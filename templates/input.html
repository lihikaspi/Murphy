{% extends "base.html" %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <!-- Hero Header -->
    <div class="mb-10 text-center md:text-left">
        <h1 class="text-4xl font-extrabold text-slate-900 tracking-tight mb-3">Stress-Test Your Strategy</h1>
        <p class="text-lg text-slate-500">Tell Murphy your ambitious plans, and we'll calculate exactly how they might fail.</p>
    </div>

    <form action="/process_input" method="POST" class="space-y-8">
        
        <!-- Main Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Left Column -->
            <div class="space-y-8">
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200 hover-card">
                    <label class="flex items-center gap-2 text-sm font-bold text-slate-900 uppercase tracking-wider mb-4">
                        <i data-lucide="user" class="w-4 h-4 text-indigo-500"></i> Context
                    </label>
                    <textarea name="about" required class="w-full h-32 p-3 bg-slate-50 border-0 rounded-xl text-slate-700 placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all resize-none text-sm leading-relaxed" placeholder="e.g. I am a solo founder launching a SaaS for dog walkers...">{{ data.get('about', '') }}</textarea>
                </div>

                <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200 hover-card">
                    <label class="flex items-center gap-2 text-sm font-bold text-slate-900 uppercase tracking-wider mb-4">
                        <i data-lucide="target" class="w-4 h-4 text-emerald-500"></i> The Goal
                    </label>
                    <textarea name="goal" required class="w-full h-32 p-3 bg-slate-50 border-0 rounded-xl text-slate-700 placeholder-slate-400 focus:ring-2 focus:ring-emerald-500 focus:bg-white transition-all resize-none text-sm leading-relaxed" placeholder="e.g. Reach $10k MRR by Q4 2025...">{{ data.get('goal', '') }}</textarea>
                </div>
            </div>

            <!-- Right Column -->
            <div class="space-y-8">
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200 hover-card">
                    <label class="flex items-center gap-2 text-sm font-bold text-slate-900 uppercase tracking-wider mb-4">
                        <i data-lucide="map" class="w-4 h-4 text-blue-500"></i> The Plan
                    </label>
                    <textarea name="plan" required class="w-full h-32 p-3 bg-slate-50 border-0 rounded-xl text-slate-700 placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all resize-none text-sm leading-relaxed" placeholder="1. Build MVP in 2 weeks&#10;2. Launch on Product Hunt&#10;3. Cold email 100 leads per day...">{{ data.get('plan', '') }}</textarea>
                </div>

                <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200 hover-card">
                    <label class="flex items-center gap-2 text-sm font-bold text-slate-900 uppercase tracking-wider mb-4">
                        <i data-lucide="alert-circle" class="w-4 h-4 text-amber-500"></i> Known Risks
                    </label>
                    <textarea name="wrong" class="w-full h-32 p-3 bg-slate-50 border-0 rounded-xl text-slate-700 placeholder-slate-400 focus:ring-2 focus:ring-amber-500 focus:bg-white transition-all resize-none text-sm leading-relaxed" placeholder="e.g. I have no marketing budget and hate sales...">{{ data.get('wrong', '') }}</textarea>
                </div>
            </div>
        </div>

        <!-- Footer Control Bar -->
        <div class="bg-white p-4 rounded-2xl shadow-lg border border-slate-100 flex flex-col md:flex-row items-center justify-between gap-6 sticky bottom-6 z-30">
            <div class="w-full md:w-1/3 px-4">
                <label class="block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2">Murphy's Law Level</label>
                <input type="range" name="pessimism" min="1" max="5" value="{{ data.get('pessimism', 3) }}" class="w-full h-2 bg-slate-100 rounded-lg appearance-none cursor-pointer accent-slate-900">
                <div class="flex justify-between text-[10px] text-slate-400 font-bold mt-1">
                    <span>OPTIMISTIC</span>
                    <span>REALISTIC</span>
                    <span>CATASTROPHIC</span>
                </div>
            </div>
            
            <button type="submit" class="w-full md:w-auto px-8 py-4 bg-slate-900 text-white font-bold rounded-xl shadow-xl shadow-slate-200 hover:bg-slate-800 hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-3">
                Run Simulation <i data-lucide="arrow-right" class="w-5 h-5"></i>
            </button>
        </div>
    </form>
</div>
{% endblock %}